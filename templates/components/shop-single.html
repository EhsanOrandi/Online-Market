{% extends 'base/base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'static/css/category-products.css' %}">
{% endblock %}
{% block title %}
{{ shop.name }}
{% endblock %}
{% block body %}
<div class="row">
    <div class="col-3 my-4 mx-3 text-center">
        {% if shop.image %}
        <img src="{{shop.image.url}}" alt="{{shop.name}}" width="250" height="150" class="rounded-circle">
        {% else %}
        <img src="{% static 'static/images/shop.png' %}" alt="{{shop.name}}" width="100" height="100">
        {% endif %}
    </div>
    <div class="about-shop my-4 col-8 bg-light text-justify">
        <div class="mt-1 mb-0 pb-0 text-success">
            <h5>فروشگاه {{shop.name}}</h5>
        </div>
        <hr>
        {% if shop.description %}
        <p>{{shop.description}}</p>
        {% endif %}
    </div>
    <div class="sidebar col-3 my-1 mx-3">
        <div class="rounded bg-light mb-3">
            <span class="sidebar-titles">جستجوی محصول</span>
            <div class="sidebar-content sidebar-search">
                <input type="search" name="search-product" class="w-75" id="search-product">
                <button class="btn btn-light" id="search-product-btn"><i class="fa fa-search"></i></button>
            </div>
        </div>
        <div class="rounded bg-light">
            <span class="sidebar-titles">برند محصول</span>
            <div class="sidebar-content">
            </div>
        </div>
    </div>
    <div class="col-8">
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 my-1 mx-auto bg-light products-container">
            {% for product in products %}
            <div class="col">
                <a href="{% url 'product_single' product.product.slug %}">
                    <div class="card h-100 text-center border-top-0 border-bottom-0 border-left-0 rounded-0">
                        <img src="{{product.product.image.url}}" class="card-img-top mx-auto mt-1" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">{{product.product.name}}</h5>
                            <p class="card-text">{{product.price}} تومان</p>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>

    {% endblock %}

    {% block javascript %}
    <script>
        // $(document).ready(function () {
        //     $("input[type='button']").click(function () {
        //         var radioValue = $("input[name='brand']:checked").val();
        //         if (radioValue) {

        //         }
        //     });
        // });

        // $("input").on("click", function () {
        //     $('.products-container > div').each(function () {
        //         if (!$(this).attr('class').includes($("input:checked").val())) {
        //             console.log('yes')
        //             $(this).hide()
        //         }
        //     })
        // });

        // $('#search-product-btn').click(function () {
        //     var search_text = $('#search-product').val()
        //     console.log(search_text)
        //     $('.products-container > div').each(function () {
        //         if ($(this).attr('class').includes(search_text) || $(this).children('h5').text().includes(search_text)) {
        //             console.log('yes')
        //         } else {
        //             $(this).hide()
        //         }
        //     })
        // })

        // var x;
            // var test =  $(".product-container").children()
            // for (x in test){
            //     var class_value = x.attr("class")
            //     if(class_value != $( "input:checked" ).val()){
            //         $('div.'+ class_value).hide()
            //     }
            // }

            // console.log(test)
    </script>
    {% endblock %}